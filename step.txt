# Change host DB
DB_HOST=mysql
DB_USERNAME=nuri
DB_PORT=3306

# Global command with docker
docker exec -it nuri-backend-app

# Stop & bersihkan semua container
docker compose down

# Build ulang & jalankan
docker compose up -d --build

# Build ulang dengan image lama
docker compose up -d

# Cek runtime frankenPHP
docker logs -f nuri-backend-app

# Jalankan migrate + seed
docker exec -it nuri-backend-app php artisan migrate --seed

# Clear Cache
docker exec -it nuri-backend-app php artisan config:clear
docker exec -it nuri-backend-app php artisan cache:clear
docker exec -it nuri-backend-app php artisan route:clear
docker exec -it nuri-backend-app php artisan view:clear
docker exec -it nuri-backend-app php artisan optimize:clear

# Show app key
docker exec -it nuri-backend-app php artisan key:generate --show

# Show jwt secret
docker exec -it nuri-backend-app php artisan jwt:secret --show

# Run unit test spesific
docker exec -e APP_ENV=testing \
           -e DB_CONNECTION=sqlite \
           -e DB_DATABASE=/app/database/database.sqlite \
           -it nuri-backend-app php artisan test --filter=ChangePasswordTest
